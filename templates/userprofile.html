{% extends 'base.html' %}
{% block title %}Story App User Profile{% endblock %}

{% block body %}
<h1>{{ user.username }}</h1>
<h2>{{ user.email }}</h2>

<div id="user-favorites">
    <h3>
        Favorite Stories
    </h3>

    {% for favorite in user.favorites %}
        <li>
            <a href="/user/{{ favorite.story.user_id }}/stories/{{ favorite.story_id }}">
                {{ favorite.story.title }} || {{ user.username }}'s Score: {{ favorite.get_rating_score() }} || Average Score = {{ favorite.story.get_average_rating() }}
            </a>
        </li>
    {% endfor %}
</div>

<div id="user-stories">
    <h3>
        Stories
    </h3>

    {% for story in user.stories %}
    <li>
        <a href="/user/{{ user.user_id }}/stories/{{ story.story_id }}">
            <button id="{{ story.story_id }}">
                {{ story.title }}
            </button>
        </a>
        <div>Rating: {{ story.get_average_rating() }}</div>
    </li>
    {% endfor %}
</div>

{% endblock %}